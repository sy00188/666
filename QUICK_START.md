# æ¡£æ¡ˆç®¡ç†ç³»ç»Ÿ - å¿«é€Ÿå¯åŠ¨æŒ‡å—

> ğŸ‰ **æœ€æ–°æ›´æ–°**: WebSocketå®æ—¶é€šçŸ¥ç³»ç»Ÿ + ç§»åŠ¨ç«¯å“åº”å¼ä¼˜åŒ– (2025-10-10)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…å‰ç«¯ä¾èµ–(é¦–æ¬¡è¿è¡Œå¿…é¡»æ‰§è¡Œ!)

```bash
cd frontend
npm install
```

**æ–°å¢ä¾èµ–**:
- `@stomp/stompjs: ^7.0.0` - WebSocket STOMPå®¢æˆ·ç«¯
- `sockjs-client: ^1.6.1` - WebSocketé™çº§æ”¯æŒ

### 2. å¯åŠ¨æœåŠ¡

#### æ–¹å¼ä¸€: ä½¿ç”¨å¯åŠ¨è„šæœ¬ (æ¨è)

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
./start-all.sh
```

#### æ–¹å¼äºŒ: åˆ†åˆ«å¯åŠ¨

```bash
# ç»ˆç«¯1: å¯åŠ¨åç«¯
./start_backend.sh

# ç»ˆç«¯2: å¯åŠ¨å‰ç«¯  
cd frontend
npm run dev
```

### 3. è®¿é—®ç³»ç»Ÿ

- ğŸŒ **å‰ç«¯åœ°å€**: http://localhost:3000
- ğŸ”§ **åç«¯API**: http://localhost:8080
- ğŸ“¡ **WebSocket**: ws://localhost:8080/ws
- ğŸ“š **APIæ–‡æ¡£**: http://localhost:8080/doc.html

### 4. æµ‹è¯•è´¦å·

```
ç”¨æˆ·å: admin
å¯†ç : admin123
```

---

## âœ¨ æ–°åŠŸèƒ½ä½“éªŒ

### ğŸ”” WebSocketå®æ—¶é€šçŸ¥

#### ä½“éªŒæ­¥éª¤:
1. ç™»å½•ç³»ç»Ÿ
2. è§‚å¯Ÿå³ä¸Šè§’çš„é€šçŸ¥é“ƒé“›å›¾æ ‡
3. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· â†’ Network â†’ WS
4. æŸ¥çœ‹WebSocketè¿æ¥çŠ¶æ€ (åº”æ˜¾ç¤ºå·²è¿æ¥)

#### è§¦å‘æµ‹è¯•é€šçŸ¥:

**æ–¹æ³•1: ä½¿ç”¨curlå‘½ä»¤**
```bash
curl -X POST http://localhost:8080/api/v1/notifications/send \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer <your-token>" \
  -d '{
    "userId": 1,
    "title": "æµ‹è¯•é€šçŸ¥",
    "content": "è¿™æ˜¯ä¸€æ¡å®æ—¶æ¨é€çš„æµ‹è¯•é€šçŸ¥",
    "type": "1"
  }'
```

**æ–¹æ³•2: ä½¿ç”¨Postman/Apifox**
- URL: `POST http://localhost:8080/api/v1/notifications/send`
- Headers: 
  - `Content-Type: application/json`
  - `Authorization: Bearer <your-token>`
- Body:
```json
{
  "userId": 1,
  "title": "æµ‹è¯•é€šçŸ¥",
  "content": "è¿™æ˜¯ä¸€æ¡å®æ—¶æ¨é€çš„æµ‹è¯•é€šçŸ¥",
  "type": "1"
}
```

#### é¢„æœŸæ•ˆæœ:
- âœ… å³ä¸Šè§’é“ƒé“›å¾½ç« æ•°é‡+1
- âœ… æµè§ˆå™¨å¼¹å‡ºElement Plusé€šçŸ¥
- âœ… æ¡Œé¢å¼¹å‡ºç³»ç»Ÿé€šçŸ¥ (å¦‚å·²æˆæƒ)
- âœ… æ§åˆ¶å°æ˜¾ç¤º "æ”¶åˆ°WebSocketæ¶ˆæ¯"

### ğŸ“± ç§»åŠ¨ç«¯å“åº”å¼ä½“éªŒ

#### æµ‹è¯•æ­¥éª¤:
1. æ‰“å¼€Chromeå¼€å‘è€…å·¥å…· (F12)
2. ç‚¹å‡» "Toggle device toolbar" (Ctrl+Shift+M / Cmd+Shift+M)
3. é€‰æ‹©ä¸åŒçš„è®¾å¤‡å°ºå¯¸æµ‹è¯•:
   - iPhone SE (375x667)
   - iPhone 12 Pro (390x844)
   - iPad Air (820x1180)
   - Galaxy S20 (360x800)

#### æµ‹è¯•é¡µé¢:
- âœ… ç™»å½•é¡µ - è‡ªé€‚åº”è¡¨å•å¸ƒå±€
- âœ… ä»ªè¡¨æ¿ - å¡ç‰‡ç½‘æ ¼å“åº”å¼
- âœ… æ¡£æ¡ˆåˆ—è¡¨ - è¡¨æ ¼æ°´å¹³æ»šåŠ¨
- âœ… æ¡£æ¡ˆè¯¦æƒ… - ä¿¡æ¯å¡ç‰‡å †å 
- âœ… é€šçŸ¥ä¸­å¿ƒ - æŠ½å±‰å¼å±•å¼€

#### é¢„æœŸæ•ˆæœ:
- âœ… å¸ƒå±€è‡ªåŠ¨é€‚åº”å±å¹•å°ºå¯¸
- âœ… æŒ‰é’®å’Œè¾“å…¥æ¡†è§¦æ‘¸å‹å¥½ (>=44x44px)
- âœ… å­—ä½“å¤§å°é€‚ä¸­,æ˜“è¯»
- âœ… é—´è·åˆç†,ä¸æ‹¥æŒ¤
- âœ… è¡¨æ ¼å¯æ¨ªå‘æ»šåŠ¨

---

## ğŸ“‹ åŠŸèƒ½æ¸…å•

### âœ… å·²å®ŒæˆåŠŸèƒ½

#### WebSocketå®æ—¶é€šçŸ¥
- [x] å®æ—¶æ¶ˆæ¯æ¨é€ (<500mså»¶è¿Ÿ)
- [x] æ¡Œé¢é€šçŸ¥æ”¯æŒ
- [x] æœªè¯»æ•°é‡å®æ—¶æ›´æ–°
- [x] è‡ªåŠ¨é‡è¿ (æœ€å¤š10æ¬¡)
- [x] å¿ƒè·³æ£€æµ‹ (10ç§’)
- [x] æ–­çº¿é™çº§åˆ°è½®è¯¢
- [x] å¤šé¢‘é“æ”¯æŒ (ä¸ªäºº/å¹¿æ’­)
- [x] æ¶ˆæ¯åˆ†ç±» (ç³»ç»Ÿ/ä¸šåŠ¡/è­¦å‘Š/é”™è¯¯)

#### ç§»åŠ¨ç«¯å“åº”å¼
- [x] å“åº”å¼æ–­ç‚¹ (576/768/992/1200px)
- [x] è§¦æ‘¸å‹å¥½çš„äº¤äº’
- [x] è¡¨æ ¼æ°´å¹³æ»šåŠ¨
- [x] è¡¨å•å‚ç›´å¸ƒå±€
- [x] å¯¹è¯æ¡†è‡ªé€‚åº”
- [x] å¯¼èˆªæŠ½å±‰å¼
- [x] æ¨ªå±ç‰¹æ®Šå¤„ç†
- [x] é«˜åˆ†å±ä¼˜åŒ–
- [x] æš—è‰²æ¨¡å¼æ”¯æŒ

### â­ï¸ å¾…å®æ–½åŠŸèƒ½ (ç¬¬ä¸‰é˜¶æ®µ)

#### é«˜çº§æŠ¥è¡¨ç³»ç»Ÿ
- [ ] æŠ¥è¡¨é…ç½®å™¨UI
- [ ] åŠ¨æ€æ•°æ®æºæŸ¥è¯¢
- [ ] EChartså›¾è¡¨é›†æˆ
- [ ] å¤šæ ¼å¼å¯¼å‡º (Excel/PDF/CSV)
- [ ] æŠ¥è¡¨è®¢é˜…å’Œæ¨é€
- [ ] å®šæ—¶æŠ¥è¡¨ç”Ÿæˆ

---

## ğŸ”§ æ•…éšœæ’æŸ¥

### é—®é¢˜1: WebSocketè¿æ¥å¤±è´¥

**ç—‡çŠ¶**: æ§åˆ¶å°æ˜¾ç¤º "WebSocketè¿æ¥å¤±è´¥"

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. æ£€æŸ¥åç«¯æ˜¯å¦è¿è¡Œ
curl http://localhost:8080/actuator/health

# 2. æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :8080

# 3. é‡å¯æœåŠ¡
./stop-all.sh
./start-all.sh
```

### é—®é¢˜2: å‰ç«¯ä¾èµ–å®‰è£…å¤±è´¥

**ç—‡çŠ¶**: `npm install` æŠ¥é”™

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ¸…é™¤ç¼“å­˜
npm cache clean --force

# åˆ é™¤æ—§ä¾èµ–
rm -rf node_modules package-lock.json

# é‡æ–°å®‰è£…
npm install
```

### é—®é¢˜3: é€šçŸ¥ä¸æ¨é€

**ç—‡çŠ¶**: WebSocketå·²è¿æ¥ä½†æ”¶ä¸åˆ°é€šçŸ¥

**æ’æŸ¥æ­¥éª¤**:
1. æ£€æŸ¥ç”¨æˆ·IDæ˜¯å¦æ­£ç¡®
2. æŸ¥çœ‹åç«¯æ—¥å¿—: `tail -f logs/archive-management-all.log`
3. éªŒè¯Tokenæ˜¯å¦æœ‰æ•ˆ
4. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯

### é—®é¢˜4: ç§»åŠ¨ç«¯æ˜¾ç¤ºå¼‚å¸¸

**ç—‡çŠ¶**: ç§»åŠ¨ç«¯å¸ƒå±€é”™ä¹±

**è§£å†³æ–¹æ¡ˆ**:
1. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
2. å¼ºåˆ¶åˆ·æ–° (Ctrl+Shift+R / Cmd+Shift+R)
3. æ£€æŸ¥CSSæ˜¯å¦æ­£ç¡®åŠ è½½
4. ä½¿ç”¨Chrome DevToolsæ£€æŸ¥å…ƒç´ 

---

## ğŸ“š è¯¦ç»†æ–‡æ¡£

### å®æ–½æ–‡æ¡£
- ğŸ“„ [WebSocketå®æ—¶é€šçŸ¥å®æ–½æ–‡æ¡£](./WEBSOCKET_IMPLEMENTATION.md)
- ğŸ“„ [é¡¹ç›®å®Œå–„æ€»ç»“æŠ¥å‘Š](./PROJECT_IMPROVEMENT_SUMMARY.md)
- ğŸ“„ [é¡¹ç›®å®Œå–„è®¡åˆ’ä¸è¡ŒåŠ¨æŒ‡å—](./é¡¹ç›®å®Œå–„è®¡åˆ’ä¸è¡ŒåŠ¨æŒ‡å—.md)

### å¼€å‘æ–‡æ¡£
- ğŸ“– [åç«¯å¼€å‘è§„èŒƒ](./åç«¯å¼€å‘è§„èŒƒ.md)
- ğŸ“– [å‰ç«¯å¼€å‘è§„èŒƒ](./å‰ç«¯å¼€å‘è§„èŒƒ.md)
- ğŸ“– [APIæ¥å£è§„èŒƒ](./APIæ¥å£è§„èŒƒ.md)
- ğŸ“– [å¼€å‘æ–‡æ¡£å¯¼èˆª](./README-å¼€å‘æ–‡æ¡£å¯¼èˆª.md)

### è®¾è®¡æ–‡æ¡£
- ğŸ—ï¸ [ç³»ç»Ÿæ¶æ„è®¾è®¡](./ç³»ç»Ÿæ¶æ„è®¾è®¡.md)
- ğŸ—„ï¸ [æ•°æ®åº“è®¾è®¡](./æ•°æ®åº“è®¾è®¡.md)
- ğŸ”„ [ä¸šåŠ¡æµç¨‹è¯¦ç»†è®¾è®¡](./ä¸šåŠ¡æµç¨‹è¯¦ç»†è®¾è®¡.md)

---

## ğŸ’¡ ä½¿ç”¨æç¤º

### WebSocketæœ€ä½³å®è·µ
1. **é¦–æ¬¡ä½¿ç”¨**: æˆæƒæµè§ˆå™¨æ¡Œé¢é€šçŸ¥æƒé™
2. **ç½‘ç»œåˆ‡æ¢**: ç³»ç»Ÿä¼šè‡ªåŠ¨é‡è¿,æ— éœ€æ‰‹åŠ¨æ“ä½œ
3. **é•¿æ—¶é—´æœªæ“ä½œ**: å»ºè®®åˆ·æ–°é¡µé¢é‡æ–°å»ºç«‹è¿æ¥
4. **æ–­çº¿æƒ…å†µ**: ç³»ç»Ÿä¼šè‡ªåŠ¨é™çº§åˆ°30ç§’è½®è¯¢

### ç§»åŠ¨ç«¯ä½¿ç”¨å»ºè®®
1. **å»ºè®®ä½¿ç”¨Chrome/Safari**: ä½“éªŒæœ€ä½³
2. **æ¨ªå±æµè§ˆ**: éƒ¨åˆ†é¡µé¢é€‚åˆæ¨ªå±æ“ä½œ
3. **è§¦æ‘¸æ“ä½œ**: æ‰€æœ‰æŒ‰é’®å’Œè¾“å…¥æ¡†éƒ½å·²ä¼˜åŒ–
4. **ç½‘ç»œç¯å¢ƒ**: å»ºè®®ä½¿ç”¨WiFiä»¥è·å¾—æœ€ä½³ä½“éªŒ

---

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

### å³å°†å®æ–½ (ç¬¬ä¸‰é˜¶æ®µ)
1. â­ï¸ é«˜çº§æŠ¥è¡¨ç³»ç»Ÿ
   - å¯è§†åŒ–æŠ¥è¡¨é…ç½®å™¨
   - åŠ¨æ€æ•°æ®æŸ¥è¯¢å¼•æ“
   - å¤šæ ¼å¼å¯¼å‡ºåŠŸèƒ½

2. â­ï¸ æ™ºèƒ½åŒ–åŠŸèƒ½
   - OCRæ–‡å­—è¯†åˆ«
   - æ™ºèƒ½åˆ†ç±»æ¨è
   - æ™ºèƒ½æ ‡ç­¾ç”Ÿæˆ

3. â­ï¸ ç³»ç»Ÿé›†æˆ
   - SSOå•ç‚¹ç™»å½•
   - ä¼ä¸šå¾®ä¿¡é›†æˆ
   - é’‰é’‰é›†æˆ

### æ€§èƒ½ä¼˜åŒ–è®¡åˆ’
- [ ] é¦–å±åŠ è½½æ—¶é—´ä¼˜åŒ–
- [ ] ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½
- [ ] å›¾ç‰‡å‹ç¼©å’ŒWebPæ”¯æŒ
- [ ] PWAç¦»çº¿æ”¯æŒ

---

## ğŸ“ è·å–å¸®åŠ©

### é‡åˆ°é—®é¢˜?
1. ğŸ“– æŸ¥çœ‹ç›¸å…³æ–‡æ¡£
2. ğŸ› æ£€æŸ¥æ•…éšœæ’æŸ¥ç« èŠ‚
3. ğŸ“ æŸ¥çœ‹åç«¯æ—¥å¿—: `logs/archive-management-all.log`
4. ğŸ’¬ è”ç³»å¼€å‘å›¢é˜Ÿ

### åé¦ˆå»ºè®®
æ¬¢è¿æä¾›åŠŸèƒ½å»ºè®®å’Œbugåé¦ˆ,å¸®åŠ©æˆ‘ä»¬æŒç»­æ”¹è¿›ç³»ç»Ÿ!

---

**æœ€åæ›´æ–°**: 2025å¹´10æœˆ10æ—¥  
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**ç³»ç»Ÿç‰ˆæœ¬**: v1.0.0

